# Coffee Machine

## Contents
1. [Introduction](#introduction)
2. [Technologies](#technologies)
3. [Features](#features)
4. [Installation](#installation)
5. [Usage](#usage)
6. [API Documentation](#api-documentation)

## Introduction
"Coffee Machine" — это Web-приложение, написанное на Java 17 с использованием технологий фреймворка Spring Boot.
Оно предоставляет базовый API для управления кофемашиной и её работы. Приложение поддерживает аутентификацию и
авторизацию с использованием JWT токенов для разграничения доступа к эндпойнтам. В проекте применяется очередь
сообщений Apache Kafka, обеспечивающая последовательную обработку запросов приготовления кофе. "Coffee machine"
является полностью контейнеризированным приложением, которое предназначено для разворачивания в экосистеме Docker,
что обеспечивает гибкую интеграцию в распределённую систему. Документация доступна через Swagger UI и описывает
все эндпойнты, предоставляя возможность удобного тестирования. Помимо этого, в проект включены Unit-тесты для
последующей интеграции в CI/CD среду. При разработке "Coffee Machine" использовался подход Git Flow для имитации
разработки в команде.

## Technologies
Проект функционирует с использованием следующих технологий:

- **Spring Boot**: Фреймворк для упрощения разработки Java приложений.
    - `spring-boot-starter-data-jpa`: Поддержка работы с базами данных.
    - `spring-boot-starter-security`: Реализация разграничения доступа.
    - `spring-boot-starter-web`: Создание RESTful web-сервисов.
    - `spring-boot-starter-test`: Набор инструментов для тестирования.
- **Maven**: Для сборки приложения.
- **PostgreSQL**: База данных для персистентного хранения информации.
    - `postgresql`
- **Apache Kafka**: Для обеспечения последовательной очереди запросов.
    - `spring-kafka`
- **JWT (JSON Web Tokens)**: Для обеспечения безопасности приложения.
    - `jjwt-api`
    - `jjwt-impl`
    - `jjwt-jackson`
- **SpringDoc OpenAPI (Swagger)**: Для документирования API.
    - `springdoc-openapi-starter-webmvc-ui`
- **FlyWay**: Инструмент для управления миграциями базы данных.
    - `flyway-core`
- **MapStruct**: Для маппинга между DTO и сущностями.
    - `mapstruct`
    - `lombok-mapstruct-binding`
- **Lombok**: Для уменьшения количества "boilerplate" кода.
    - `lombok`
- **Junit & Mockito**: Для гибкого тестирования кода.
- **Docker**: Для контейнеризации приложения и разворачивания сервисов.
    - `docker-compose`
    - `Dockerfile`

## Features
- **Security**: JWT токены для аутентификации и авторизации пользователей.
- **Error Handling**: Корректная обработка ошибок с понятными сообщениями для пользователя.
- **Test tools**: Использование гибкого тестирования написанного кода.
- **Containerization**: Контейнеризация для гибкой интеграции приложения.

## Installation
1. Клонируйте репозиторий:
    ```sh
    git clone git@github.com:k4r3l1nS/coffee_machine.git
    cd coffee_machine
    ```

2. Запустите приложение с использованием Docker:
    - Убедитесь, что Docker установлен и запущен.
    - Запустите приложение при помощи Docker c помощи следующих команд:
        ```sh
        cd deploy
        docker-compose up -d
        ```
   Процесс сборки образа занимает несколько минут, запуска - до 1 минуты, а вес контейнера составляет около 400 МБ

## Usage
- Доступ к приложению можно получить по адресу `http://localhost:8080`.
- UI приложения доступен по адресу `http://localhost:8080/swagger-ui.html` и реализован средствами Swagger. Интерфейс
  содержит необходимые средства для изучения доступных эндпойнтов и их использования.

## API Documentation
API задокументирован с использованием OpenAPI и доступен по адресу:
`http://localhost:8080/swagger-ui.html`
